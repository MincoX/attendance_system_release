(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2fd2530a"],{"49ea":function(t,a,e){},"4f55":function(t,a,e){"use strict";(function(t){var i=e("ade3"),s=e("b12f"),o=e.n(s);a["a"]={data:function(){return{hostname:"http://127.0.0.1:16888/",detailImg:null,gDate:null,dashBoxData:[0,0,0,0],gOrganization:"",organizations:null,snaps:null,attendList:null,slids:null,showImgModal:!1}},created:function(){var t=this;this.timer=setInterval((function(){t.getSlids(),t.getSnaps(),t.getAttendListData(),t.getBoxPieData()}),6e3)},beforeDestroy:function(){clearInterval(this.timer)},mounted:function(){this.slidWindow();new Date;this.gDate="2022-04-08",this.getDayGroupData(),this.getAttendListData(),this.getOrganizations(),this.getBoxPieData(),this.getSnaps(),this.getSlids()},watch:{gDate:function(t,a){this.getAttendListData(),this.getBoxPieData(),this.getSnaps(),this.getSlids()},gOrganization:function(t,a){this.getAttendListData(),this.getBoxPieData(),this.getDayGroupData(),this.getSlids()}},methods:{getSnaps:function(){var t=this;this.$req.fetch(o.a.dashboard.snap.path,{sDate:this.gDate}).then((function(a){1==a.code&&(t.snaps=a.data)}))},getDayGroupData:function(){var t=this;this.$req.fetch(o.a.dashboard.dayGrroup.path,{organizationID:this.gOrganization}).then((function(a){1==a.code&&(t.leftTop(JSON.parse(JSON.stringify(a.data))),t.leftBottom(JSON.parse(JSON.stringify(a.data))))}))},getAttendListData:function(){var t=this;this.$req.fetch(o.a.dashboard.attendList.path,{sDate:this.gDate,organizationID:this.gOrganization}).then((function(a){1==a.code&&(t.attendList=a.data)}))},getBoxPieData:function(){var t=this;this.$req.fetch(o.a.dashboard.boxPie.path,{sDate:this.gDate,organizationID:this.gOrganization}).then((function(a){if(1==a.code){t.dashBoxData=a.data;var e=[{value:null==a.data["迟到"]?0:a.data["迟到"],name:"迟到"},{value:null==a.data["早退"]?0:a.data["早退"],name:"早退"},{value:null==a.data["缺勤"]?0:a.data["缺勤"],name:"缺勤"},{value:null==a.data["正常出勤"]?0:a.data["正常出勤"],name:"正常出勤"}];t.rightBottom(e)}}))},getOrganizations:function(){var t=this;this.$req.fetch(o.a.organization.list.path).then((function(a){1==a.code&&(t.organizations=a.data)}))},leftTop:function(a){var e=[{data:a.data}],i=this.$echarts.init(document.querySelector("#leftTop")),s={color:["#77C3F2","#F1B000","#ff6347","#52CC76"],tooltip:{trigger:"axis"},legend:{textStyle:{color:"rgba(255,255,255,1)"}},grid:{top:"20%",left:"3%",right:"4%",bottom:"3%",show:!1,borderColor:"#012f4a",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:a.label,axisTick:{show:!1},axisLabel:{color:"rgba(255,255,255,1)"},axisLine:{show:!1}},yAxis:{type:"value",axisTick:{show:!1},axisLabel:{color:"rgba(255,255,255,1)"},axisLine:{show:!1},splitLine:{lineStyle:{color:"#012f4a"}}},series:[{name:"迟到",type:"line",smooth:!0,stack:"Total",areaStyle:{opacity:.1},data:a.data["迟到"]},{name:"早退",type:"line",smooth:!0,areaStyle:{opacity:.1},data:a.data["早退"]},{name:"缺勤",type:"line",smooth:!0,areaStyle:{opacity:.1},data:a.data["缺勤"]},{name:"正常出勤",type:"line",smooth:!0,areaStyle:{opacity:.1},data:a.data["正常出勤"]}]};i.setOption(s),window.addEventListener("resize",(function(){i.resize()})),t(".line h2").on("click","a",(function(){var a=e[t(this).index()];option.series[0].data=a.data[0],option.series[1].data=a.data[1],option.series[2].data=a.data[2],myChart.setOption(option)}))},leftBottom:function(t){var a=this.$echarts.init(document.querySelector("#leftBottom")),e={grid:{left:"2%",right:"4%",bottom:"14%",top:"16%",containLabel:!0},legend:{data:["迟到","早退","缺勤","正常出勤"],right:10,top:12,textStyle:{color:"#fff"},itemWidth:12,itemHeight:10},xAxis:{type:"category",data:t.label,axisLine:{lineStyle:{color:"white"}},axisLabel:{textStyle:{fontFamily:"Microsoft YaHei"}}},yAxis:{type:"value",axisLine:{show:!1,lineStyle:{color:"white"}},splitLine:{show:!0,lineStyle:{color:"rgba(255,255,255,0.3)"}},axisLabel:{}},dataZoom:[{show:!0,height:12,xAxisIndex:[0],bottom:"5%",left:"7%",start:10,end:90,handleIcon:"path://M306.1,413c0,2.2-1.8,4-4,4h-59.8c-2.2,0-4-1.8-4-4V200.8c0-2.2,1.8-4,4-4h59.8c2.2,0,4,1.8,4,4V413z",handleSize:"110%",handleStyle:{color:"#d3dee5"},textStyle:{color:"#fff"},borderColor:"#90979c"},{type:"inside",show:!0,height:15,start:1,end:35}],series:[{name:"迟到",type:"bar",barWidth:"15%",itemStyle:{normal:{color:new this.$echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#77C3F2"},{offset:1,color:"#f5804d"}]),barBorderRadius:12}},data:t.data["迟到"]},{name:"早退",type:"bar",barWidth:"15%",itemStyle:{normal:{color:new this.$echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#F1B000"},{offset:1,color:"#09bcb7"}]),barBorderRadius:11}},data:t.data["早退"]},{name:"缺勤",type:"bar",barWidth:"15%",itemStyle:{normal:{color:new this.$echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#ff6347"},{offset:1,color:"#6851f1"}]),barBorderRadius:11}},data:t.data["缺勤"]},{name:"正常出勤",type:"bar",barWidth:"15%",itemStyle:{normal:{color:new this.$echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#52CC76"},{offset:1,color:"#6851f1"}]),barBorderRadius:11}},data:t.data["正常出勤"]}]},i={currentIndex:-1};setInterval((function(){var t=e.series[0].data.length;a.dispatchAction({type:"downplay",seriesIndex:0,dataIndex:i.currentIndex}),i.currentIndex=(i.currentIndex+1)%t,a.dispatchAction({type:"highlight",seriesIndex:0,dataIndex:i.currentIndex}),a.dispatchAction({type:"showTip",seriesIndex:0,dataIndex:i.currentIndex})}),1e3),a.setOption(e),window.addEventListener("resize",(function(){a.resize()}))},rightTop:function(){var t=this.$echarts.init(document.querySelector("#rightTop")),a={tooltip:{trigger:"axis"},legend:{top:"0%",data:["迟到","早退","缺勤"],textStyle:{color:"rgba(255,255,255,1)",fontSize:"12"}},grid:{left:"10",top:"30",right:"10",bottom:"10",containLabel:!0},xAxis:[Object(i["a"])({type:"category",boundaryGap:!1,data:["01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","26","28","29","30"],axisLabel:{textStyle:{color:"rgba(255,255,255,1)",fontSize:12}},axisLine:{lineStyle:{color:"rgba(255,255,255,.2)"}}},"axisLine",{lineStyle:{color:"rgba(255,255,255,.2)"}})],yAxis:[{type:"value",axisTick:{show:!1},axisLine:{lineStyle:{color:"rgba(255,255,255,.1)"}},axisLabel:{textStyle:{color:"rgba(255,255,255,1)",fontSize:12}},splitLine:{lineStyle:{color:"rgba(255,255,255,.1)"}}}],series:[{name:"迟到",type:"line",smooth:!0,lineStyle:{color:"#0184d5",width:"2"},areaStyle:{color:new this.$echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(1, 132, 213, 0.4)"},{offset:.8,color:"rgba(1, 132, 213, 0.1)"}],!1),shadowColor:"rgba(0, 0, 0, 0.1)"},symbol:"circle",symbolSize:8,showSymbol:!1,itemStyle:{color:"#0184d5",borderColor:"rgba(221, 220, 107, .1)",borderWidth:12},data:[30,40,30,40,30,40,30,60,20,40,30,40,30,40,30,40,30,60,20,40,30,40,30,40,30,40,20,60,50,40]},{name:"早退",type:"line",smooth:!0,lineStyle:{normal:{color:"#00d887",width:2}},areaStyle:{normal:{color:new this.$echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(0, 216, 135, 0.4)"},{offset:.8,color:"rgba(0, 216, 135, 0.1)"}],!1),shadowColor:"rgba(0, 0, 0, 0.1)"}},symbol:"circle",symbolSize:5,itemStyle:{color:"#00d887",borderColor:"rgba(221, 220, 107, .1)",borderWidth:12},showSymbol:!1,data:[130,10,20,40,30,40,80,60,20,40,90,40,20,140,30,40,130,20,20,40,80,70,30,40,30,120,20,99,50,20]},{name:"缺勤",type:"line",smooth:!0,lineStyle:{normal:{color:"#00d887",width:2}},areaStyle:{normal:{color:new this.$echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(0, 216, 135, 0.4)"},{offset:.8,color:"rgba(0, 216, 135, 0.1)"}],!1),shadowColor:"rgba(0, 0, 0, 0.1)"}},symbol:"circle",symbolSize:5,itemStyle:{color:"#00d887",borderColor:"rgba(221, 220, 107, .1)",borderWidth:12},showSymbol:!1,data:[0,110,120,40,30,400,180,60,200,40,90,140,20,140,130,40,130,20,20,40,80,70,30,40,30,120,20,99,50,20]}]};t.setOption(a),window.addEventListener("resize",(function(){t.resize()}))},rightBottom:function(t){var a=this.$echarts.init(document.querySelector("#rightBottom")),e={color:["#77C3F2","#F1B000","#ff6347","#52CC76"],tooltip:{trigger:"item"},legend:{orient:"vertical",left:"left",textStyle:{color:"#fff"}},series:[{name:this.gDate,type:"pie",radius:"75%",data:t,emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};a.setOption(e),window.addEventListener("resize",(function(){a.resize()}))},slidWindow:function(){var t=null,a=-4,e=document.getElementById("wrapper"),i=e.getElementsByTagName("ul")[0];i.getElementsByTagName("li");function s(){i.offsetLeft<-i.offsetWidth&&(i.style.left="0"),i.offsetLeft>0&&(i.style.left=-i.offsetWidth/2+"px"),i.style.left=i.offsetLeft+a+"px"}t=setInterval(s,30),e.onmouseover=function(){clearInterval(t)},e.onmouseout=function(){t=setInterval(s,30)}},getSlids:function(){var t=this;this.$req.fetch(o.a.dashboard.slid.path,{sDate:this.gDate,organizationID:this.gOrganization}).then((function(a){1==a.code&&(t.slids=a.data)}))}}}}).call(this,e("c5e1"))},"6a60":function(t,a,e){"use strict";e("49ea")},ade3:function(t,a,e){"use strict";function i(t,a,e){return a in t?Object.defineProperty(t,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[a]=e,t}e.d(a,"a",(function(){return i}))},ec95:function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"dashboard-body"},[e("div",{staticClass:"img-modal"},[t.showImgModal?e("div",{staticClass:"modal fade show img-cursor-pointer",staticStyle:{display:"block"},attrs:{id:"modal-default","aria-modal":"true"},on:{click:function(a){t.showImgModal=!1}}},[e("div",{staticClass:"modal-dialog"},[e("img",{staticClass:"img-fluid mb-3 img-detail",attrs:{src:t.hostname+t.detailImg,alt:"Photo"}})])]):t._e()]),e("div",{staticClass:"header"},[e("router-link",{attrs:{to:"/user/usermgr"}},[e("h3",{staticClass:"header-title"},[t._v("数据展板")])]),e("div",{staticClass:"filter-box"},[e("div",{staticClass:"select"},[e("label",{attrs:{for:""}},[t._v("班级")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.gOrganization,expression:"gOrganization"}],staticClass:"form-control",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.gOrganization=a.target.multiple?e:e[0]}}},[e("option",{attrs:{value:""}},[t._v("所有班级")]),t._l(t.organizations,(function(a,i){return e("option",{key:i,staticClass:"select-option",attrs:{label:a.name},domProps:{value:a.id}},[t._v(t._s(a.name))])}))],2)]),e("div",{staticClass:"date"},[e("label",{attrs:{for:""}},[t._v("日期")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.gDate,expression:"gDate"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.gDate},on:{input:function(a){a.target.composing||(t.gDate=a.target.value)}}})])])],1),e("div",{staticClass:"wrapper"},[e("div",{staticClass:"content"},[t._m(0),e("div",{staticClass:"col col-c"},[e("div",{staticClass:"xpanel-wrapper xpanel-wrapper-15"},[e("div",{staticClass:"xpanel xpanel-c-b flex-box"},[e("div",{staticClass:"col-lg-3 col-6"},[e("div",{staticClass:"small-box bg-info text-center small-box-1"},[e("div",{staticClass:"inner"},[e("h3",[t._v(t._s(null==t.dashBoxData["迟到"]?0:t.dashBoxData["迟到"]))]),e("p",[t._v("迟到")])]),t._m(1)])]),e("div",{staticClass:"col-lg-3 col-6"},[e("div",{staticClass:"small-box bg-success text-center small-box-2"},[e("div",{staticClass:"inner"},[e("h3",[t._v(t._s(null==t.dashBoxData["早退"]?0:t.dashBoxData["早退"]))]),e("p",[t._v("早退")])]),t._m(2)])]),e("div",{staticClass:"col-lg-3 col-6"},[e("div",{staticClass:"small-box bg-danger text-center small-box-3"},[e("div",{staticClass:"inner"},[e("h3",[t._v(t._s(null==t.dashBoxData["缺勤"]?0:t.dashBoxData["缺勤"]))]),e("p",[t._v("缺勤")])]),t._m(3)])]),e("div",{staticClass:"col-lg-3 col-6"},[e("div",{staticClass:"small-box bg-warning text-center small-box-4"},[e("div",{staticClass:"inner"},[e("h3",[t._v(t._s(null==t.dashBoxData["正常出勤"]?0:t.dashBoxData["正常出勤"]))]),e("p",[t._v("正常出勤")])]),t._m(4)])])])]),e("div",{staticClass:"xpanel-wrapper xpanel-wrapper-65"},[e("div",{staticClass:"xpanel xpanel-c-b"},[e("div",{staticClass:"xpanel-title"},[t._v("考勤详情")]),e("div",{staticClass:"xpanel-content"},[e("table",[t._m(5),e("tbody",t._l(t.attendList,(function(a,i){return e("tr",{key:i,staticClass:"ghover"},[e("td",{on:{click:function(e){t.detailImg=a.face_img,t.showImgModal=!0}}},[e("img",{staticClass:"profile-user-img img-fluid img-circle face-circle",attrs:{src:a.face_img}})]),e("td",[t._v(t._s(a.serial_number))]),e("td",[t._v(t._s(a.name))]),e("td",[t._v(t._s(a.org_name))]),e("td",[t._v(t._s(null==a.up_status?"\\":a.up_status))]),e("td",[t._v(t._s(null==a.down_status?"\\":a.down_status))]),e("td",[t._v(t._s("缺勤"==a.abnormal_status||null==a.abnormal_status?"缺勤":"\\"))])])})),0)])])])]),e("div",{staticClass:"xpanel-wrapper xpanel-wrapper-20"},[e("div",{staticClass:"xpanel xpanel-c-b"},[e("div",{attrs:{id:"wrapper"}},[e("ul",t._l(t.slids,(function(a,i){return e("li",{key:i},[e("div",{staticClass:"slid"},[e("div",{staticClass:"img-box"},[e("img",{attrs:{src:t.hostname+a.face_img,alt:""}})]),e("div",{staticClass:"info-box"},[e("p",[e("strong",[t._v("打卡时间: "+t._s(t._f("formatTime")(a.update_time)))])]),null!=a.down_status?e("p",[e("strong",[t._v("下课状态: "+t._s(a.down_status))])]):t._e(),e("p",[e("strong",[t._v("上课状态: "+t._s(a.up_status))])]),e("p",[e("strong",[t._v("姓名: "+t._s(a.face_name))])])])])])})),0)])])])]),e("div",{staticClass:"col col-r"},[t._m(6),t._m(7),e("div",{staticClass:"xpanel-wrapper xpanel-wrapper-45"},[e("div",{staticClass:"xpanel xpanel-r-m"},[e("div",{staticClass:"xpanel-title"},[t._v("实时抓拍")]),e("div",{staticClass:"xpanel-content"},[e("table",[t._m(8),e("tbody",t._l(t.snaps,(function(a){return e("tr",{key:a.id},[e("td",{on:{click:function(e){t.detailImg=a.face_img,t.showImgModal=!0}}},[e("img",{staticClass:"profile-user-img img-fluid img-circle face-circle",attrs:{src:a.face_img}})]),e("td",[t._v(t._s(a.serial_number))]),e("td",[t._v(t._s(a.face_name))]),e("td",[t._v(t._s(a.organization_name))]),e("td",[t._v(t._s(t._f("formatTime")(a.snap_time)))])])})),0)])])])])])])])])},s=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"col col-l"},[e("div",{staticClass:"xpanel-wrapper xpanel-wrapper-50"},[e("div",{staticClass:"xpanel xpanel-l-t"},[e("div",{staticClass:"xpanel-content"},[e("div",{staticClass:"fill-h",attrs:{id:"leftTop"}})])])]),e("div",{staticClass:"xpanel-wrapper xpanel-wrapper-50"},[e("div",{staticClass:"xpanel xpanel-l-b"},[e("div",{staticClass:"xpanel-content"},[e("div",{staticClass:"fill-h",attrs:{id:"leftBottom"}})])])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("a",{staticClass:"small-box-footer",attrs:{href:"#"}},[e("i",{staticClass:"fas fa-arrow-circle-up"})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("a",{staticClass:"small-box-footer",attrs:{href:"#"}},[e("i",{staticClass:"fas fa-arrow-circle-up"})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("a",{staticClass:"small-box-footer",attrs:{href:"#"}},[e("i",{staticClass:"fas fa-arrow-circle-up"})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("a",{staticClass:"small-box-footer",attrs:{href:"#"}},[e("i",{staticClass:"fas fa-arrow-circle-up"})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",[e("th",[t._v("照片")]),e("th",[t._v("学号")]),e("th",[t._v("姓名")]),e("th",[t._v("班级")]),e("th",[t._v("上课状态")]),e("th",[t._v("下课状态")]),e("th",[t._v("异常状态")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"xpanel-wrapper xpanel-wrapper-15"},[e("div",{staticClass:"xpanel xpanel-r-t"},[e("div",{staticClass:"xpanel-title"},[t._v("设备列表")]),e("div",{staticClass:"xpanel-content"},[e("table",[e("thead",[e("tr",[e("th",[t._v("设备名称")]),e("th",[t._v("设备位置")]),e("th",[t._v("设备状态")])])]),e("tbody",[e("tr",[e("td",[t._v("测试设备")]),e("td",[t._v("教室北门")]),e("td",[t._v("正常")])])])])])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"xpanel-wrapper xpanel-wrapper-40"},[e("div",{staticClass:"xpanel xpanel-r-b"},[e("div",{staticClass:"xpanel-content"},[e("div",{staticClass:"fill-h",attrs:{id:"rightBottom"}})])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",[e("th",[t._v("照片")]),e("th",[t._v("学号")]),e("th",[t._v("姓名")]),e("th",[t._v("班级")]),e("th",[t._v("抓拍时间")])])])}],o=e("4f55"),l=o["a"],r=(e("6a60"),e("2877")),n=Object(r["a"])(l,i,s,!1,null,"9be828dc",null);a["default"]=n.exports}}]);
//# sourceMappingURL=chunk-2fd2530a.52a55d40.js.map