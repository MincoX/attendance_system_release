(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1367e4b8"],{"55c3":function(t,i,e){},"74df":function(t,i,e){"use strict";e.r(i);var a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"page-container"},[e("div",{staticClass:"card card-primary card-outline appointment-form"},[e("div",{staticClass:"card-body box-profile"},[e("div",{staticClass:"text-center"},[e("img",{staticClass:"profile-user-img img-fluid img-circle face-circle",attrs:{src:t.face_img?t.face_img:t.defaultImg,alt:"User profile picture"},on:{click:t.uploadFile}}),e("input",{ref:"uploadFile",attrs:{type:"file",accept:"image/*",hidden:""},on:{change:function(i){return t.change(i)}}})]),e("div",{staticClass:"form-body"},[e("div",{staticClass:"form-group"},[e("label",[t._v("身份证号:")]),e("div",{staticClass:"input-group"},[t._m(0),e("input",{directives:[{name:"model",rawName:"v-model",value:t.id_card_number,expression:"id_card_number"}],staticClass:"form-control float-right",attrs:{type:"text"},domProps:{value:t.id_card_number},on:{input:function(i){i.target.composing||(t.id_card_number=i.target.value)}}})])]),e("div",{staticClass:"form-group"},[e("label",[t._v("学号:")]),e("div",{staticClass:"input-group"},[t._m(1),e("input",{directives:[{name:"model",rawName:"v-model",value:t.serial_number,expression:"serial_number"}],staticClass:"form-control float-right",attrs:{type:"text"},domProps:{value:t.serial_number},on:{input:function(i){i.target.composing||(t.serial_number=i.target.value)}}})])]),e("div",{staticClass:"form-group"},[e("label",[t._v("姓名:")]),e("div",{staticClass:"input-group"},[t._m(2),e("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control float-right",attrs:{type:"text"},domProps:{value:t.name},on:{input:function(i){i.target.composing||(t.name=i.target.value)}}})])]),e("div",{staticClass:"form-group"},[e("label",[t._v("邮箱:")]),e("div",{staticClass:"input-group"},[t._m(3),e("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control float-right",attrs:{type:"text"},domProps:{value:t.email},on:{input:function(i){i.target.composing||(t.email=i.target.value)}}})])]),e("div",{staticClass:"form-group"},[e("label",[t._v("班级:")]),e("div",{staticClass:"input-group"},[t._m(4),e("select",{directives:[{name:"model",rawName:"v-model",value:t.organization_id,expression:"organization_id"}],staticClass:"custom-select rounded-0",attrs:{id:"exampleSelectRounded0"},on:{change:function(i){var e=Array.prototype.filter.call(i.target.options,(function(t){return t.selected})).map((function(t){var i="_value"in t?t._value:t.value;return i}));t.organization_id=i.target.multiple?e:e[0]}}},t._l(t.organizations,(function(i){return e("option",{key:i.id,staticClass:"select-option",attrs:{label:i.name},domProps:{value:i.id}},[t._v(t._s(i.name))])})),0)])]),e("div",{staticClass:"form-group"},[e("label",[t._v("邀请码:")]),e("div",{staticClass:"input-group"},[t._m(5),e("input",{directives:[{name:"model",rawName:"v-model",value:t.invite_code,expression:"invite_code"}],staticClass:"form-control float-right",attrs:{type:"text"},domProps:{value:t.invite_code},on:{input:function(i){i.target.composing||(t.invite_code=i.target.value)}}})])]),e("button",{staticClass:"btn btn-block btn-primary",attrs:{type:"button"},on:{click:function(i){return t.submit()}}},[t._v(" 提交 ")]),e("p",{staticClass:"mb-1 mt-3 float-right"},[e("router-link",{attrs:{to:"login"}},[t._v("立即登录")])],1)])])])])},n=[function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"input-group-prepend"},[e("span",{staticClass:"input-group-text"},[e("i",{staticClass:"far fa-clock"})])])},function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"input-group-prepend"},[e("span",{staticClass:"input-group-text"},[e("i",{staticClass:"far fa-clock"})])])},function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"input-group-prepend"},[e("span",{staticClass:"input-group-text"},[e("i",{staticClass:"far fa-clock"})])])},function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"input-group-prepend"},[e("span",{staticClass:"input-group-text"},[e("i",{staticClass:"far fa-clock"})])])},function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"input-group-prepend"},[e("span",{staticClass:"input-group-text"},[e("i",{staticClass:"fas fa-laptop"})])])},function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"input-group-prepend"},[e("span",{staticClass:"input-group-text"},[e("i",{staticClass:"far fa-clock"})])])}],r=(e("b0c0"),e("b12f")),s=e.n(r),o=e("5f72"),c={inject:["reload"],data:function(){return{id_card_number:"",serial_number:"",email:"",face_img:"",name:"",invite_code:"",organization_id:null,organizations:"",defaultImg:""}},methods:{uploadFile:function(){this.$refs.uploadFile.click()},getOrganizations:function(){var t=this;this.$req.fetch(s.a.organization.list.path).then((function(i){1==i.code&&(t.organizations=i.data)}))},validForm:function(){if(""==this.face_img)return"请上传人脸照片";if(""==this.id_card_number)return"请填写身份证号";if(""==this.serial_number)return"请填写学号";if(""==this.invite_code)return"请填写邀请码";if(""==this.name)return"请填写姓名";if(""!=this.email){var t=/^\w+\@+[0-9a-zA-Z]+\.(com|com.cn|edu|hk|cn|net)$/;if(!t.test(this.email))return"邮箱格式错误"}return""!=this.organization_id||"请选择预约班级"},submit:function(){var t=this,i=this.validForm();1==i?this.$req.post(s.a.face.create.path,{name:this.name,id_card_number:this.id_card_number,serial_number:this.serial_number,email:this.email,face_img:this.face_img,invite_code:this.inviteCode,organization_id:this.organization_id}).then((function(i){t.reload()})):Object(o["Notification"])({title:i||"信息填写无效，请仔细检测",type:"warning"})},change:function(t){var i=this,e=t.target.files[0],a=new FileReader;a.readAsDataURL(e),a.onload=function(t){i.face_img=t.target.result}}},created:function(){this.defaultImg=e("b8f2")},mounted:function(){this.getOrganizations()}},l=c,u=(e("e9dc"),e("2877")),p=Object(u["a"])(l,a,n,!1,null,"68b6e17f",null);i["default"]=p.exports},b0c0:function(t,i,e){var a=e("83ab"),n=e("9bf2").f,r=Function.prototype,s=r.toString,o=/^\s*function ([^ (]*)/,c="name";a&&!(c in r)&&n(r,c,{configurable:!0,get:function(){try{return s.call(this).match(o)[1]}catch(t){return""}}})},b8f2:function(t,i,e){t.exports=e.p+"img/profile.82b9c7a5.png"},e9dc:function(t,i,e){"use strict";e("55c3")}}]);
//# sourceMappingURL=chunk-1367e4b8.7b3e352b.js.map